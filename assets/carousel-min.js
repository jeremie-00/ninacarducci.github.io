class Carousel{constructor(t,i={}){this.element=t,this.options=Object.assign({slidesToScroll:1,slidesVisible:1,pagination:!1,navigation:!0,infinite:!1,autoSlide:!1,jsonUrl:"./assets/images.json"},i),this.currentItem=0,this.moveCallbacks=[],this.offset=0;const s=Array.from(this.element.children);this.root=this.createDivWithClass("carousel__root"),this.container=this.createDivWithClass("carousel__container"),this.root.setAttribute("tabindex","0"),this.root.appendChild(this.container),this.element.appendChild(this.root),this.items=s.map((t=>{t.classList.remove("hidden");let i=this.createDivWithClass("carousel__item");return i.appendChild(t),i})),this.initCarousel()}initCarousel(){this.options.infinite&&(this.offset=this.options.slidesVisible+this.options.slidesToScroll,this.offset,this.items.length,this.items=[...this.items.slice(this.items.length-this.offset).map((t=>t.cloneNode(!0))),...this.items,...this.items.slice(0,this.offset).map((t=>t.cloneNode(!0)))],this.goToItem(this.offset,!1)),this.items.forEach((t=>this.container.appendChild(t))),this.setStyle(),this.options.navigation&&this.createNavigation(),this.options.pagination&&this.createPagination(),this.options.autoSlide&&this.startAutoSlide(),this.moveCallbacks.forEach((t=>t(this.currentItem))),this.root.addEventListener("keyup",(t=>{"ArrowRight"===t.key||"Right"===t.key?this.next():"ArrowLeft"!==t.key&&"Left"!==t.key||this.prev()})),this.options.infinite&&this.container.addEventListener("transitionend",this.resetInfinite.bind(this))}setStyle(){const t=this.items.length/this.options.slidesVisible;this.container.style.width=100*t+"%",this.items.forEach((i=>i.style.width=100/this.options.slidesVisible/t+"%"))}createNavigation(){const t=this.createDivWithClass("carousel__control__prev"),i=this.createDivWithClass("carousel__control__next"),s=this.createDivWithClass("carousel__prev__icon"),e=this.createDivWithClass("carousel__next__icon"),o=this.createDivWithClass("carousel__prev__txt"),n=this.createDivWithClass("carousel__next__txt");o.innerText="Previous",n.innerText="Next",t.append(s,o),i.append(n,e),this.root.appendChild(t),this.root.appendChild(i),i.addEventListener("click",this.next.bind(this)),t.addEventListener("click",this.prev.bind(this)),this.options.autoSlide&&(this.root.addEventListener("mouseover",this.stopAutoSlide.bind(this)),this.root.addEventListener("mouseout",this.startAutoSlide.bind(this)))}createPagination(){const t=this.createDivWithClass("carousel__pagination"),i=[];this.root.appendChild(t);for(let s=0;s<this.items.length-2*this.offset;s+=this.options.slidesToScroll){const e=this.createDivWithClass("carousel__pagination__button");e.addEventListener("click",(()=>this.goToItem(s+this.offset))),t.appendChild(e),i.push(e)}this.onMove((t=>{const s=this.items.length-2*this.offset,e=i[Math.floor((t-this.offset)%s/this.options.slidesToScroll)];e&&(i.forEach((t=>t.classList.remove("carousel__pagination__button--active"))),e.classList.add("carousel__pagination__button--active"))}))}translate(t){this.container.style.transform="translate3d("+t+"%,1px,0)"}stopAutoSlide(){clearInterval(this.autoSlideInterval)}startAutoSlide(){this.autoSlideInterval=setInterval((()=>this.next()),5e3)}next(){this.goToItem(this.currentItem+this.options.slidesToScroll)}prev(){this.goToItem(this.currentItem-this.options.slidesToScroll)}goToItem(t,i=!0){t<0?t=this.items.length-this.options.slidesVisible:t>=this.items.length&&(t=0);const s=-100*t/this.items.length;i||this.disableTransition(),this.translate(s),this.container.offsetHeight,i||this.enableTransition(),this.currentItem=t,this.moveCallbacks.forEach((i=>i(t)))}resetInfinite(){this.currentItem<=this.options.slidesToScroll?this.goToItem(this.currentItem+(this.items.length-2*this.offset),!1):this.currentItem>=this.items.length-this.offset&&this.goToItem(this.currentItem-(this.items.length-2*this.offset),!1)}onMove(t){this.moveCallbacks.push(t)}createDivWithClass(t){const i=document.createElement("div");return i.setAttribute("class",t),i}disableTransition(){this.container.style.transition="none"}enableTransition(){this.container.style.transition=""}}const onReady=function(){new Carousel(document.querySelector("#carousel1"),{infinite:!0,pagination:!0,autoSlide:!0})};document.addEventListener("DOMContentLoaded",onReady);